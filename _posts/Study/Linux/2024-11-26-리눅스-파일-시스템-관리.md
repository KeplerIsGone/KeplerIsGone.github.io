---
layout: post
title: "[Linux] 리눅스 파일 시스템 관리"
date: 2024-11-26
category: Study
tags: Linux
---

(Linux) 파일 시스템 관리 요약 정리

1. 개요
* 파일 시스템은 운영체제가 디스크 상의 데이터를 구성하고 관리하는 방식으로, 파일 및 자료의 보관 및 접근을 효율적으로 지원한다.
* 리눅스 파일 시스템은 물리적 저장소, 가상 파일 시스템(procfs 등), 파일 서버 자료 접근 등을 포함하는 광범위한 개념이다.

2. 리눅스 전용 디스크 기반 파일 시스템
1. ext 계열 파일 시스템
    * ext: 리눅스 초기 사용 파일 시스템, 제한적 호환성. 최대 2GB 파일, 255자 파일명 지원.
    * ext2: 고용량 디스크 지원, 업그레이드가 용이.
    * ext3: 저널링 기능 추가, ACL(Access Control List) 지원.
    * ext4: 성능 개선, 16TB 파일 크기 지원, 단편화 최소화.
2. 저널링 파일 시스템
    * 비정상 종료 시 로그(저널)를 이용해 복구.
    * 대표적인 예: ext3, ext4, XFS, ReiserFS.
3. 기타 파일 시스템
    * FAT: 클러스터 단위 할당, 기본 속성만 지원.
    * NTFS: 윈도우 파일 시스템, 보안성과 안정성이 우수.
    * ISO9660: CD-ROM 표준 파일 시스템.
    * UDF: DVD 및 광학 매체용 파일 시스템.
    * NFS: 네트워크 공유 파일 시스템.
    * CIFS/SMB: 윈도우와의 파일 및 하드웨어 공유 프로토콜.
4. 네트워크 파일 시스템 
    - SFS (Simple File System)
        * 간단한 파일 시스템으로 특정 애플리케이션이나 목적에 맞게 설계된 파일 시스템.
        * 주로 학습용이나 단순 저장 기능을 구현하기 위해 사용된다.
    - CIFS (Common Internet File System)
        * SMB(Server Message Block)의 확장 버전으로, 네트워크 상에서 파일, 디렉터리, 장치를 공유하기 위한 프로토콜.
        * 윈도우와 리눅스/유닉스 간 자료 및 하드웨어 공유를 지원한다.
        * NFS보다 설정이 단순하며, 윈도우 표준 환경에서 동작한다.
    - NFS (Network File System)
        * 네트워크를 통해 파일 및 디렉터리를 공유하는 파일 시스템.
        * 썬마이크로시스템(Sun Microsystems)에서 개발.
        * 운영체제나 네트워크 구조와 무관하게 파일 공유가 가능하며, 리눅스와 유닉스 환경에서 널리 사용된다.


3. 주요 명령어 및 옵션
1. mount: 파일 시스템을 특정 디렉터리에 연결.
    * 옵션:
        * -a: /etc/fstab에 정의된 파일 시스템 모두 마운트.
        * -n: /etc/mtab 업데이트 없이 마운트.
        * -f: 실제 마운트 실행 없이 시뮬레이션.
        * -t: 파일 시스템 종류 지정.
        * -o: 추가 옵션(예: rw, ro, noexec 등) 지정.
2. umount: 파일 시스템 마운트 해제.
    * 옵션:
        * -a: 모든 파일 시스템 해제.
        * -n: /etc/mtab 업데이트 없이 해제.
        * -t: 특정 파일 시스템 유형만 해제.
        * -r: 해제 실패 시 파일 시스템 읽기 전용으로 재마운트.
        * -f: 강제 해제.
3. fdisk: 디스크 파티션 관리.
    * 옵션:
        * -r: 읽기 전용 모드.
        * -f: 특정 파일을 파티션 테이블로 사용.
        * -v: 버전 정보 출력.
        * 서브 명령:
            * l: 파티션 유형 목록 출력.
            * s: 새 파티션 생성.
            * p: 현재 파티션 테이블 출력.
            * n: 새로운 파티션 추가.
            * t: 파티션 유형 변경.
            * d: 파티션 삭제.
            * w: 변경 사항 저장 후 종료.
            * q: 변경 없이 종료.
4. mkfs: 파일 시스템 생성.
    * 옵션:
        * -V: 상세한 실행 과정 표시.
        * -t: 파일 시스템 유형 지정.
        * -c: 손상된 블록 검사.
        * -l: 블록 크기 지정.
        * -v: 자세한 출력.
5. mke2fs: ext 계열 파일 시스템 생성.
    * 옵션:
        * -t: 파일 시스템 유형 지정.
        * -b: 블록 크기 지정.
        * -f: 블록 그룹 크기 지정.
        * -i: inode당 바이트 수 지정.
        * -j: 저널링 활성화.
        * -R: 특정 레이아웃 옵션 설정.
6. fsck: 파일 시스템 무결성 점검 및 복구.
    * 옵션:
        * -A: /etc/fstab에 정의된 모든 파일 시스템 점검.
        * -a: 오류 자동 수정.
        * -r: 대화식 복구.
        * -s: 점검을 순차적으로 실행.
        * -t: 특정 파일 시스템 유형 지정.
7. e2fsck: ext 계열 파일 시스템 점검 및 복구.
    * 옵션:
        * -p: 자동 복구 시도.
        * -n: 파일 시스템 수정 없이 점검.
        * -y: 사용자 확인 없이 자동 수정.
        * -c: 손상된 블록 검사.
        * -f: 강제 점검.
8. du: 디스크 사용량 확인.
    * 옵션:
        * -h: 사람이 읽기 쉬운 형식으로 출력.
        * -a: 파일별 사용량 출력.
        * -m: 메가바이트 단위 출력.
        * -k: 킬로바이트 단위 출력.
        * -s: 요약 정보만 출력.
        * -c: 총합 계산.
9. df: 마운트된 파일 시스템의 디스크 사용량 확인.
    * 옵션:
        * -h: 사람이 읽기 쉬운 형식.
        * -T: 파일 시스템 유형 표시.
        * -t: 특정 파일 시스템만 출력.
        * -a: 사용하지 않는 파일 시스템 포함 출력.
        * -k: 킬로바이트 단위 출력.
        * -i: inode 정보 표시.
10. /etc/fstab: 파일 시스템 정보를 정적으로 관리하는 파일.
    * 필드 구성:
        * 장치명, 마운트 지점, 파일 시스템 유형, 마운트 옵션, 덤프 여부, 점검 순서.

4. 관련 키워드
* 디스크 파티션
* 파일 시스템 복구
* 저널링 기술
* 파일 공유 프로토콜
* 리눅스 디렉터리 구조
